-- Masukkan script ini sebagai LocalScript di StarterPlayerScripts / StarterGui
local player = game.Players.LocalPlayer
local gui = Instance.new("ScreenGui")
gui.Name = "CopilotModMenu"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

-- Tombol bulat modmenu di tengah
local menuBtn = Instance.new("ImageButton")
menuBtn.Name = "MenuButton"
menuBtn.Size = UDim2.new(0, 64, 0, 64)
menuBtn.Position = UDim2.new(0.5, -32, 0.5, -32)
menuBtn.BackgroundColor3 = Color3.new(0,0,0)
menuBtn.AutoButtonColor = true
menuBtn.Image = "" -- tanpa gambar
menuBtn.ZIndex = 100
menuBtn.Parent = gui

local menuCorner = Instance.new("UICorner", menuBtn)
menuCorner.CornerRadius = UDim.new(1,0)

local icon = Instance.new("TextLabel", menuBtn)
icon.Size = UDim2.new(1,0,1,0)
icon.BackgroundTransparency = 1
icon.Text = "≡"
icon.Font = Enum.Font.GothamBold
icon.TextScaled = true
icon.TextColor3 = Color3.fromRGB(255,255,255)
icon.ZIndex = 101

-- Dialog menu
local dialog = Instance.new("Frame", gui)
dialog.Size = UDim2.new(0, 320, 0, 400)
dialog.Position = UDim2.new(0.5, -160, 0.5, -200)
dialog.BackgroundColor3 = Color3.fromRGB(20,20,20)
dialog.BackgroundTransparency = 0.06
dialog.Visible = false
dialog.ZIndex = 110

local dialogCorner = Instance.new("UICorner", dialog)
dialogCorner.CornerRadius = UDim.new(0.12,0)

-- Drag logic (untuk menuBtn & dialog)
local function makeDraggable(frame)
    local dragging, dragInput, dragStart, startPos
    frame.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            dragging = true
            dragStart = input.Position
            startPos = frame.Position
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                end
            end)
        end
    end)
    frame.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
            dragInput = input
        end
    end)
    game:GetService("UserInputService").InputChanged:Connect(function(input)
        if dragging and input == dragInput then
            local delta = input.Position - dragStart
            frame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X,
                startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end
    end)
end
makeDraggable(menuBtn)
makeDraggable(dialog)

-- Show/hide dialog
local menuOpen = false
local function toggleMenu()
    menuOpen = not menuOpen
    dialog.Visible = menuOpen
end
menuBtn.MouseButton1Click:Connect(toggleMenu)
menuBtn.TouchTap:Connect(toggleMenu) -- mobile support

-- Close button
local closeBtn = Instance.new("TextButton", dialog)
closeBtn.Size = UDim2.new(0, 36, 0, 36)
closeBtn.Position = UDim2.new(1, -42, 0, 6)
closeBtn.BackgroundColor3 = Color3.fromRGB(40,40,40)
closeBtn.Text = "✕"
closeBtn.TextColor3 = Color3.new(1,1,1)
closeBtn.TextScaled = true
closeBtn.ZIndex = 111
local closeCorner = Instance.new("UICorner", closeBtn)
closeCorner.CornerRadius = UDim.new(1,0)
closeBtn.MouseButton1Click:Connect(toggleMenu)
closeBtn.TouchTap:Connect(toggleMenu)

-- Contoh isi dialog: label
local lbl = Instance.new("TextLabel", dialog)
lbl.Size = UDim2.new(1, -20, 0, 40)
lbl.Position = UDim2.new(0, 10, 0, 48)
lbl.Text = "Mod Menu by Copilot"
lbl.Font = Enum.Font.GothamBold
lbl.TextSize = 22
lbl.TextColor3 = Color3.fromRGB(255,255,255)
lbl.BackgroundTransparency = 1
lbl.ZIndex = 112

-- (Kamu bisa lanjut tambahkan fitur lain di dialog ini!)

-- RGB Accent animasi
local accent = Instance.new("Frame", dialog)
accent.Size = UDim2.new(1,0,0,5)
accent.Position = UDim2.new(0,0,0,0)
accent.BackgroundColor3 = Color3.fromRGB(255,0,0)
accent.ZIndex = 113
local function rainbow()
    local t = 0
    while true do
        t = t + 0.008
        accent.BackgroundColor3 = Color3.fromHSV(t%1,1,1)
        icon.TextColor3 = Color3.fromHSV(t%1,1,1)
        wait(0.02)
    end
end
spawn(rainbow)

-- Tingkatkan ZIndex jika masih tertutup UI lain

-- Selesai! Menu muncul di tengah, draggable, bisa diklik & dialog muncul!
